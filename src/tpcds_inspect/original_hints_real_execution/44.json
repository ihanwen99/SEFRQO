{"Plan": {"Node Type": "Limit", "Parallel Aware": false, "Async Capable": false, "Startup Cost": 268638.98, "Total Cost": 268640.5, "Plan Rows": 100, "Plan Width": 110, "Actual Startup Time": 245.18, "Actual Total Time": 245.307, "Actual Rows": 10, "Actual Loops": 1, "Plans": [{"Node Type": "Merge Join", "Parent Relationship": "Outer", "Parallel Aware": false, "Async Capable": false, "Join Type": "Inner", "Startup Cost": 268638.98, "Total Cost": 270937.72, "Plan Rows": 151415, "Plan Width": 110, "Actual Startup Time": 245.179, "Actual Total Time": 245.305, "Actual Rows": 10, "Actual Loops": 1, "Inner Unique": false, "Merge Cond": "((rank() OVER (?)) = (rank() OVER (?)))", "Plans": [{"Node Type": "Sort", "Parent Relationship": "Outer", "Parallel Aware": false, "Async Capable": false, "Startup Cost": 134319.49, "Total Cost": 134333.25, "Plan Rows": 5503, "Plan Width": 59, "Actual Startup Time": 123.609, "Actual Total Time": 123.689, "Actual Rows": 10, "Actual Loops": 1, "Sort Key": ["(rank() OVER (?))"], "Sort Method": "quicksort", "Sort Space Used": 25, "Sort Space Type": "Memory", "Plans": [{"Node Type": "Hash Join", "Parent Relationship": "Outer", "Parallel Aware": false, "Async Capable": false, "Join Type": "Inner", "Startup Cost": 133811.81, "Total Cost": 133977.59, "Plan Rows": 5503, "Plan Width": 59, "Actual Startup Time": 123.594, "Actual Total Time": 123.681, "Actual Rows": 10, "Actual Loops": 1, "Inner Unique": true, "Hash Cond": "(v1.item_sk = i1.i_item_sk)", "Plans": [{"Node Type": "WindowAgg", "Parent Relationship": "Outer", "Parallel Aware": false, "Async Capable": false, "Startup Cost": 132122.81, "Total Cost": 132219.11, "Plan Rows": 5503, "Plan Width": 44, "Actual Startup Time": 115.199, "Actual Total Time": 115.281, "Actual Rows": 10, "Actual Loops": 1, "Run Condition": "(rank() OVER (?) < 11)", "Plans": [{"Node Type": "Sort", "Parent Relationship": "Outer", "Parallel Aware": false, "Async Capable": false, "Startup Cost": 132122.81, "Total Cost": 132136.57, "Plan Rows": 5503, "Plan Width": 36, "Actual Startup Time": 115.193, "Actual Total Time": 115.271, "Actual Rows": 11, "Actual Loops": 1, "Sort Key": ["v1.rank_col"], "Sort Method": "quicksort", "Sort Space Used": 555, "Sort Space Type": "Memory", "Plans": [{"Node Type": "Subquery Scan", "Parent Relationship": "Outer", "Parallel Aware": false, "Async Capable": false, "Alias": "v1", "Startup Cost": 131492.02, "Total Cost": 131780.91, "Plan Rows": 5503, "Plan Width": 36, "Actual Startup Time": 107.049, "Actual Total Time": 114.109, "Actual Rows": 8128, "Actual Loops": 1, "Plans": [{"Node Type": "Aggregate", "Strategy": "Hashed", "Partial Mode": "Finalize", "Parent Relationship": "Subquery", "Parallel Aware": false, "Async Capable": false, "Startup Cost": 131492.02, "Total Cost": 131780.91, "Plan Rows": 5503, "Plan Width": 36, "Actual Startup Time": 107.048, "Actual Total Time": 113.781, "Actual Rows": 8128, "Actual Loops": 1, "Group Key": ["ss1.ss_item_sk"], "Filter": "(avg(ss1.ss_net_profit) > (0.9 * $1))", "Planned Partitions": 0, "HashAgg Batches": 1, "Peak Memory Usage": 10001, "Disk Usage": 0, "Rows Removed by Filter": 9871, "Plans": [{"Node Type": "Aggregate", "Strategy": "Sorted", "Partial Mode": "Finalize", "Parent Relationship": "InitPlan", "Subplan Name": "InitPlan 1 (returns $1)", "Parallel Aware": false, "Async Capable": false, "Startup Cost": 1000.0, "Total Cost": 61807.53, "Plan Rows": 1, "Plan Width": 36, "Actual Startup Time": 30.077, "Actual Total Time": 30.128, "Actual Rows": 1, "Actual Loops": 1, "Plans": [{"Node Type": "Gather", "Parent Relationship": "Outer", "Parallel Aware": false, "Async Capable": false, "Startup Cost": 1000.0, "Total Cost": 61807.5, "Plan Rows": 4, "Plan Width": 36, "Actual Startup Time": 30.005, "Actual Total Time": 30.119, "Actual Rows": 5, "Actual Loops": 1, "Workers Planned": 4, "Workers Launched": 4, "Single Copy": false, "Plans": [{"Node Type": "Aggregate", "Strategy": "Sorted", "Partial Mode": "Partial", "Parent Relationship": "Outer", "Parallel Aware": false, "Async Capable": false, "Startup Cost": 0.0, "Total Cost": 60807.1, "Plan Rows": 1, "Plan Width": 36, "Actual Startup Time": 28.397, "Actual Total Time": 28.397, "Actual Rows": 1, "Actual Loops": 5, "Workers": [], "Plans": [{"Node Type": "Seq Scan", "Parent Relationship": "Outer", "Parallel Aware": true, "Async Capable": false, "Relation Name": "store_sales", "Alias": "store_sales", "Startup Cost": 0.0, "Total Cost": 60794.31, "Plan Rows": 5108, "Plan Width": 10, "Actual Startup Time": 0.012, "Actual Total Time": 28.166, "Actual Rows": 2154, "Actual Loops": 5, "Filter": "((ss_addr_sk IS NULL) AND (ss_store_sk = 4))", "Rows Removed by Filter": 573926, "Workers": []}]}]}]}, {"Node Type": "Gather", "Parent Relationship": "Outer", "Parallel Aware": false, "Async Capable": false, "Startup Cost": 62379.7, "Total Cost": 69189.25, "Plan Rows": 66032, "Plan Width": 36, "Actual Startup Time": 52.066, "Actual Total Time": 58.756, "Actual Rows": 87266, "Actual Loops": 1, "Workers Planned": 4, "Workers Launched": 4, "Single Copy": false, "Plans": [{"Node Type": "Aggregate", "Strategy": "Hashed", "Partial Mode": "Partial", "Parent Relationship": "Outer", "Parallel Aware": false, "Async Capable": false, "Startup Cost": 61379.7, "Total Cost": 61586.05, "Plan Rows": 16508, "Plan Width": 36, "Actual Startup Time": 50.375, "Actual Total Time": 54.276, "Actual Rows": 17453, "Actual Loops": 5, "Group Key": ["ss1.ss_item_sk"], "Planned Partitions": 0, "HashAgg Batches": 1, "Peak Memory Usage": 7441, "Disk Usage": 0, "Workers": [{"Worker Number": 0, "HashAgg Batches": 1, "Peak Memory Usage": 7441, "Disk Usage": 0}, {"Worker Number": 1, "HashAgg Batches": 1, "Peak Memory Usage": 7441, "Disk Usage": 0}, {"Worker Number": 2, "HashAgg Batches": 1, "Peak Memory Usage": 7441, "Disk Usage": 0}, {"Worker Number": 3, "HashAgg Batches": 1, "Peak Memory Usage": 7441, "Disk Usage": 0}], "Plans": [{"Node Type": "Seq Scan", "Parent Relationship": "Outer", "Parallel Aware": true, "Async Capable": false, "Relation Name": "store_sales", "Alias": "ss1", "Startup Cost": 0.0, "Total Cost": 60794.31, "Plan Rows": 117078, "Plan Width": 10, "Actual Startup Time": 0.01, "Actual Total Time": 31.411, "Actual Rows": 91654, "Actual Loops": 5, "Filter": "(ss_store_sk = 4)", "Rows Removed by Filter": 484426, "Workers": []}]}]}]}]}]}]}, {"Node Type": "Hash", "Parent Relationship": "Inner", "Parallel Aware": false, "Async Capable": false, "Startup Cost": 1464.0, "Total Cost": 1464.0, "Plan Rows": 18000, "Plan Width": 55, "Actual Startup Time": 8.351, "Actual Total Time": 8.351, "Actual Rows": 18000, "Actual Loops": 1, "Hash Buckets": 32768, "Original Hash Buckets": 32768, "Hash Batches": 1, "Original Hash Batches": 1, "Peak Memory Usage": 1802, "Plans": [{"Node Type": "Seq Scan", "Parent Relationship": "Outer", "Parallel Aware": false, "Async Capable": false, "Relation Name": "item", "Alias": "i1", "Startup Cost": 0.0, "Total Cost": 1464.0, "Plan Rows": 18000, "Plan Width": 55, "Actual Startup Time": 0.005, "Actual Total Time": 7.243, "Actual Rows": 18000, "Actual Loops": 1}]}]}]}, {"Node Type": "Sort", "Parent Relationship": "Inner", "Parallel Aware": false, "Async Capable": false, "Startup Cost": 134319.49, "Total Cost": 134333.25, "Plan Rows": 5503, "Plan Width": 59, "Actual Startup Time": 121.565, "Actual Total Time": 121.609, "Actual Rows": 10, "Actual Loops": 1, "Sort Key": ["(rank() OVER (?))"], "Sort Method": "quicksort", "Sort Space Used": 25, "Sort Space Type": "Memory", "Plans": [{"Node Type": "Hash Join", "Parent Relationship": "Outer", "Parallel Aware": false, "Async Capable": false, "Join Type": "Inner", "Startup Cost": 133811.81, "Total Cost": 133977.59, "Plan Rows": 5503, "Plan Width": 59, "Actual Startup Time": 121.548, "Actual Total Time": 121.601, "Actual Rows": 10, "Actual Loops": 1, "Inner Unique": true, "Hash Cond": "(v2.item_sk = i2.i_item_sk)", "Plans": [{"Node Type": "WindowAgg", "Parent Relationship": "Outer", "Parallel Aware": false, "Async Capable": false, "Startup Cost": 132122.81, "Total Cost": 132219.11, "Plan Rows": 5503, "Plan Width": 44, "Actual Startup Time": 113.417, "Actual Total Time": 113.464, "Actual Rows": 10, "Actual Loops": 1, "Run Condition": "(rank() OVER (?) < 11)", "Plans": [{"Node Type": "Sort", "Parent Relationship": "Outer", "Parallel Aware": false, "Async Capable": false, "Startup Cost": 132122.81, "Total Cost": 132136.57, "Plan Rows": 5503, "Plan Width": 36, "Actual Startup Time": 113.41, "Actual Total Time": 113.454, "Actual Rows": 11, "Actual Loops": 1, "Sort Key": ["v2.rank_col DESC"], "Sort Method": "quicksort", "Sort Space Used": 555, "Sort Space Type": "Memory", "Plans": [{"Node Type": "Subquery Scan", "Parent Relationship": "Outer", "Parallel Aware": false, "Async Capable": false, "Alias": "v2", "Startup Cost": 131492.02, "Total Cost": 131780.91, "Plan Rows": 5503, "Plan Width": 36, "Actual Startup Time": 105.145, "Actual Total Time": 112.23, "Actual Rows": 8128, "Actual Loops": 1, "Plans": [{"Node Type": "Aggregate", "Strategy": "Hashed", "Partial Mode": "Finalize", "Parent Relationship": "Subquery", "Parallel Aware": false, "Async Capable": false, "Startup Cost": 131492.02, "Total Cost": 131780.91, "Plan Rows": 5503, "Plan Width": 36, "Actual Startup Time": 105.144, "Actual Total Time": 111.902, "Actual Rows": 8128, "Actual Loops": 1, "Group Key": ["ss1_1.ss_item_sk"], "Filter": "(avg(ss1_1.ss_net_profit) > (0.9 * $3))", "Planned Partitions": 0, "HashAgg Batches": 1, "Peak Memory Usage": 10001, "Disk Usage": 0, "Rows Removed by Filter": 9871, "Plans": [{"Node Type": "Aggregate", "Strategy": "Sorted", "Partial Mode": "Finalize", "Parent Relationship": "InitPlan", "Subplan Name": "InitPlan 2 (returns $3)", "Parallel Aware": false, "Async Capable": false, "Startup Cost": 1000.0, "Total Cost": 61807.53, "Plan Rows": 1, "Plan Width": 36, "Actual Startup Time": 29.504, "Actual Total Time": 29.522, "Actual Rows": 1, "Actual Loops": 1, "Plans": [{"Node Type": "Gather", "Parent Relationship": "Outer", "Parallel Aware": false, "Async Capable": false, "Startup Cost": 1000.0, "Total Cost": 61807.5, "Plan Rows": 4, "Plan Width": 36, "Actual Startup Time": 29.431, "Actual Total Time": 29.514, "Actual Rows": 5, "Actual Loops": 1, "Workers Planned": 4, "Workers Launched": 4, "Single Copy": false, "Plans": [{"Node Type": "Aggregate", "Strategy": "Sorted", "Partial Mode": "Partial", "Parent Relationship": "Outer", "Parallel Aware": false, "Async Capable": false, "Startup Cost": 0.0, "Total Cost": 60807.1, "Plan Rows": 1, "Plan Width": 36, "Actual Startup Time": 27.7, "Actual Total Time": 27.7, "Actual Rows": 1, "Actual Loops": 5, "Workers": [], "Plans": [{"Node Type": "Seq Scan", "Parent Relationship": "Outer", "Parallel Aware": true, "Async Capable": false, "Relation Name": "store_sales", "Alias": "store_sales_1", "Startup Cost": 0.0, "Total Cost": 60794.31, "Plan Rows": 5108, "Plan Width": 10, "Actual Startup Time": 0.029, "Actual Total Time": 27.469, "Actual Rows": 2154, "Actual Loops": 5, "Filter": "((ss_addr_sk IS NULL) AND (ss_store_sk = 4))", "Rows Removed by Filter": 573926, "Workers": []}]}]}]}, {"Node Type": "Gather", "Parent Relationship": "Outer", "Parallel Aware": false, "Async Capable": false, "Startup Cost": 62379.7, "Total Cost": 69189.25, "Plan Rows": 66032, "Plan Width": 36, "Actual Startup Time": 50.876, "Actual Total Time": 57.425, "Actual Rows": 87182, "Actual Loops": 1, "Workers Planned": 4, "Workers Launched": 4, "Single Copy": false, "Plans": [{"Node Type": "Aggregate", "Strategy": "Hashed", "Partial Mode": "Partial", "Parent Relationship": "Outer", "Parallel Aware": false, "Async Capable": false, "Startup Cost": 61379.7, "Total Cost": 61586.05, "Plan Rows": 16508, "Plan Width": 36, "Actual Startup Time": 49.13, "Actual Total Time": 53.032, "Actual Rows": 17436, "Actual Loops": 5, "Group Key": ["ss1_1.ss_item_sk"], "Planned Partitions": 0, "HashAgg Batches": 1, "Peak Memory Usage": 7441, "Disk Usage": 0, "Workers": [{"Worker Number": 0, "HashAgg Batches": 1, "Peak Memory Usage": 7441, "Disk Usage": 0}, {"Worker Number": 1, "HashAgg Batches": 1, "Peak Memory Usage": 7441, "Disk Usage": 0}, {"Worker Number": 2, "HashAgg Batches": 1, "Peak Memory Usage": 7441, "Disk Usage": 0}, {"Worker Number": 3, "HashAgg Batches": 1, "Peak Memory Usage": 7441, "Disk Usage": 0}], "Plans": [{"Node Type": "Seq Scan", "Parent Relationship": "Outer", "Parallel Aware": true, "Async Capable": false, "Relation Name": "store_sales", "Alias": "ss1_1", "Startup Cost": 0.0, "Total Cost": 60794.31, "Plan Rows": 117078, "Plan Width": 10, "Actual Startup Time": 0.013, "Actual Total Time": 30.045, "Actual Rows": 91654, "Actual Loops": 5, "Filter": "(ss_store_sk = 4)", "Rows Removed by Filter": 484426, "Workers": []}]}]}]}]}]}]}, {"Node Type": "Hash", "Parent Relationship": "Inner", "Parallel Aware": false, "Async Capable": false, "Startup Cost": 1464.0, "Total Cost": 1464.0, "Plan Rows": 18000, "Plan Width": 55, "Actual Startup Time": 8.086, "Actual Total Time": 8.087, "Actual Rows": 18000, "Actual Loops": 1, "Hash Buckets": 32768, "Original Hash Buckets": 32768, "Hash Batches": 1, "Original Hash Batches": 1, "Peak Memory Usage": 1802, "Plans": [{"Node Type": "Seq Scan", "Parent Relationship": "Outer", "Parallel Aware": false, "Async Capable": false, "Relation Name": "item", "Alias": "i2", "Startup Cost": 0.0, "Total Cost": 1464.0, "Plan Rows": 18000, "Plan Width": 55, "Actual Startup Time": 0.005, "Actual Total Time": 6.858, "Actual Rows": 18000, "Actual Loops": 1}]}]}]}]}]}, "Planning Time": 0.43, "Triggers": [], "Execution Time": 246.796}