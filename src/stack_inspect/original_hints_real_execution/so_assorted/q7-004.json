{"Plan": {"Node Type": "Aggregate", "Strategy": "Plain", "Partial Mode": "Simple", "Parallel Aware": false, "Async Capable": false, "Startup Cost": 915269.42, "Total Cost": 915269.43, "Plan Rows": 1, "Plan Width": 8, "Actual Startup Time": 1626.756, "Actual Total Time": 1646.212, "Actual Rows": 1, "Actual Loops": 1, "Plans": [{"Node Type": "Gather Merge", "Parent Relationship": "Outer", "Parallel Aware": false, "Async Capable": false, "Startup Cost": 915123.93, "Total Cost": 915266.49, "Plan Rows": 1169, "Plan Width": 11, "Actual Startup Time": 1625.637, "Actual Total Time": 1646.068, "Actual Rows": 3925, "Actual Loops": 1, "Workers Planned": 6, "Workers Launched": 6, "Plans": [{"Node Type": "Sort", "Parent Relationship": "Outer", "Parallel Aware": false, "Async Capable": false, "Startup Cost": 914123.83, "Total Cost": 914124.32, "Plan Rows": 195, "Plan Width": 11, "Actual Startup Time": 1622.287, "Actual Total Time": 1622.578, "Actual Rows": 561, "Actual Loops": 7, "Sort Key": ["account.display_name"], "Sort Method": "quicksort", "Sort Space Used": 38, "Sort Space Type": "Memory", "Workers": [{"Worker Number": 0, "Sort Method": "quicksort", "Sort Space Used": 36, "Sort Space Type": "Memory"}, {"Worker Number": 1, "Sort Method": "quicksort", "Sort Space Used": 36, "Sort Space Type": "Memory"}, {"Worker Number": 2, "Sort Method": "quicksort", "Sort Space Used": 36, "Sort Space Type": "Memory"}, {"Worker Number": 3, "Sort Method": "quicksort", "Sort Space Used": 37, "Sort Space Type": "Memory"}, {"Worker Number": 4, "Sort Method": "quicksort", "Sort Space Used": 37, "Sort Space Type": "Memory"}, {"Worker Number": 5, "Sort Method": "quicksort", "Sort Space Used": 37, "Sort Space Type": "Memory"}], "Plans": [{"Node Type": "Nested Loop", "Parent Relationship": "Outer", "Parallel Aware": false, "Async Capable": false, "Join Type": "Inner", "Startup Cost": 404624.22, "Total Cost": 914116.41, "Plan Rows": 195, "Plan Width": 11, "Actual Startup Time": 1103.869, "Actual Total Time": 1622.301, "Actual Rows": 561, "Actual Loops": 7, "Inner Unique": false, "Join Filter": "((b1.site_id = b2.site_id) AND (b1.user_id = b2.user_id) AND (b2.date > (b1.date + '11 mons'::interval)))", "Rows Removed by Join Filter": 33616, "Workers": [], "Plans": [{"Node Type": "Hash Join", "Parent Relationship": "Outer", "Parallel Aware": true, "Async Capable": false, "Join Type": "Inner", "Startup Cost": 404623.66, "Total Cost": 883944.88, "Plan Rows": 9837, "Plan Width": 35, "Actual Startup Time": 1100.52, "Actual Total Time": 1143.509, "Actual Rows": 38215, "Actual Loops": 7, "Inner Unique": false, "Hash Cond": "((b1.site_id = so_user.site_id) AND (b1.user_id = so_user.id))", "Workers": [], "Plans": [{"Node Type": "Seq Scan", "Parent Relationship": "Outer", "Parallel Aware": true, "Async Capable": false, "Relation Name": "badge", "Alias": "b1", "Startup Cost": 0.0, "Total Cost": 477779.26, "Plan Rows": 188202, "Plan Width": 16, "Actual Startup Time": 0.028, "Actual Total Time": 231.642, "Actual Rows": 154945, "Actual Loops": 7, "Filter": "((name)::text = 'Custodian'::text)", "Rows Removed by Filter": 7164613, "Workers": []}, {"Node Type": "Hash", "Parent Relationship": "Inner", "Parallel Aware": true, "Async Capable": false, "Startup Cost": 401315.66, "Total Cost": 401315.66, "Plan Rows": 220533, "Plan Width": 19, "Actual Startup Time": 850.206, "Actual Total Time": 850.209, "Actual Rows": 362270, "Actual Loops": 7, "Hash Buckets": 524288, "Original Hash Buckets": 2097152, "Hash Batches": 16, "Original Hash Batches": 1, "Peak Memory Usage": 12672, "Workers": [], "Plans": [{"Node Type": "Hash Join", "Parent Relationship": "Outer", "Parallel Aware": true, "Async Capable": false, "Join Type": "Inner", "Startup Cost": 150846.03, "Total Cost": 401315.66, "Plan Rows": 220533, "Plan Width": 19, "Actual Startup Time": 238.587, "Actual Total Time": 757.53, "Actual Rows": 362270, "Actual Loops": 7, "Inner Unique": true, "Hash Cond": "(so_user.account_id = account.id)", "Workers": [], "Plans": [{"Node Type": "Seq Scan", "Parent Relationship": "Outer", "Parallel Aware": true, "Async Capable": false, "Relation Name": "so_user", "Alias": "so_user", "Startup Cost": 0.0, "Total Cost": 239393.77, "Plan Rows": 4219377, "Plan Width": 12, "Actual Startup Time": 0.09, "Actual Total Time": 164.827, "Actual Rows": 3013900, "Actual Loops": 7, "Workers": []}, {"Node Type": "Hash", "Parent Relationship": "Inner", "Parallel Aware": true, "Async Capable": false, "Startup Cost": 149034.54, "Total Cost": 149034.54, "Plan Rows": 144919, "Plan Width": 15, "Actual Startup Time": 238.298, "Actual Total Time": 238.298, "Actual Rows": 103524, "Actual Loops": 7, "Hash Buckets": 1048576, "Original Hash Buckets": 1048576, "Hash Batches": 1, "Original Hash Batches": 1, "Peak Memory Usage": 44608, "Workers": [], "Plans": [{"Node Type": "Seq Scan", "Parent Relationship": "Outer", "Parallel Aware": true, "Async Capable": false, "Relation Name": "account", "Alias": "account", "Startup Cost": 0.0, "Total Cost": 149034.54, "Plan Rows": 144919, "Plan Width": 15, "Actual Startup Time": 0.02, "Actual Total Time": 225.007, "Actual Rows": 103524, "Actual Loops": 7, "Filter": "((website_url)::text <> ''::text)", "Rows Removed by Filter": 1878212, "Workers": []}]}]}]}]}, {"Node Type": "Index Only Scan", "Parent Relationship": "Inner", "Parallel Aware": false, "Async Capable": false, "Scan Direction": "Forward", "Index Name": "badge_pkey", "Relation Name": "badge", "Alias": "b2", "Startup Cost": 0.56, "Total Cost": 3.05, "Plan Rows": 1, "Plan Width": 16, "Actual Startup Time": 0.012, "Actual Total Time": 0.012, "Actual Rows": 1, "Actual Loops": 267505, "Index Cond": "((site_id = so_user.site_id) AND (user_id = so_user.id) AND (name = 'Commentator'::text))", "Rows Removed by Index Recheck": 0, "Heap Fetches": 0, "Workers": []}]}]}]}]}, "Planning Time": 0.683, "Triggers": [], "Execution Time": 1646.271}